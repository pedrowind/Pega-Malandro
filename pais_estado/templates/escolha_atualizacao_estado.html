<!DOCTYPE html>
<html lang='pt-BR'>
    <head>
        <meta charset='UTF-8'>
        <title>Escolher para Atualizar</title>
        <link rel='stylesheet' href='/static/style.css'>
    </head>
    <body>
        <h1>Atualização - Escolha um Estado para Atualizar</h1>
        <hr>
        <div>
            <table class='listagem'>
                <tr>
                    <th>Identificador</th>
                    <th>Nome</th>
                    <th>Código</th>
                    <th>Atualizar?</th>
                </tr>
                {% for estado in lista %}
                    <tr>
                        <td>{{ estado.identificador_estado }}</td>
                        <td>{{ estado.nome_estado }}</td>
                        <td>{{ estado.codigo_pais }}</td>
                        <td>
                            <button onclick='atualizar({{ estado.identificador_estado }})'>Atualizar</button>
                            <button onclick='deletar({{ estado.identificador_estado }}, "{{ estado.nome_estado }}")'>Deletar</button>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
        <br>
        [ <a href='/'> Retornar ao Menu</a> ]
    </body>
</html>
<script>
    function atualizar(identificador) {
        window.open('/formulario_atualizacao_estado?identificador=' + identificador, '_SELF');
    }

    function deletar(identificador, nome) {
        if (confirm('Deseja Realmente Deletar ' + nome + '?')) {
            window.open('/delecao_estado?identificador=' + identificador, '_SELF');
        }
    }
</script>